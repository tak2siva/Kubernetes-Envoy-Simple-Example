{
   "static_resources": {
      "listeners": [
         {
            "address": {
               "socket_address": {
                  "address": "0.0.0.0",
                  "port_value": 80
               }
            },
            "filter_chains": [
               {
                  "filters": [
                     {
                        "name": "envoy.http_connection_manager",
                        "config": {
                           "codec_type": "auto",
                           "stat_prefix": "ingress_http",
                           "route_config": {
                              "name": "local_route",
                              "virtual_hosts": [
                                 {
                                    "name": "frontend",
                                    "domains": [
                                       "*"
                                    ],
                                    "routes": [
                                       {
                                          "match": {
                                             "prefix": "/app/1/"
                                          },
                                          "route": {
                                             "cluster": "app1",
                                             "prefix_rewrite": "/"
                                          }
                                       },
                                       {
                                          "match": {
                                             "prefix": "/app/2/"
                                          },
                                          "route": {
                                             "cluster": "app2",
                                             "prefix_rewrite": "/"
                                          }
                                       }
                                    ]
                                 }
                              ]
                           },
                           "http_filters": [
                              {
                                 "name": "envoy.router",
                                 "config": {}
                              }
                           ]
                        }
                     }
                  ]
               }
            ]
         }
      ],
      "clusters": [
         {
            "name": "app1",
            "connect_timeout": "0.25s",
            "type": "strict_dns",
            "lb_policy": "round_robin",
            "hosts": [
               {
                  "socket_address": {
                     "address": "app1",
                     "port_value": 4567
                  }
               }
            ]
         },
         {
            "name": "app2",
            "connect_timeout": "0.25s",
            "type": "strict_dns",
            "lb_policy": "round_robin",
            "hosts": [
               {
                  "socket_address": {
                     "address": "app2",
                     "port_value": 4568
                  }
               }
            ]
         }
      ]
   },
   "admin": {
      "access_log_path": "/var/log/envoy.log",
      "address": {
         "socket_address": {
            "address": "0.0.0.0",
            "port_value": 8001,
            "protocol": "TCP"
         }
      }
   }
}